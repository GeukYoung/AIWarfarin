<!DOCTYPE html>
<html>
<head>
    <title>Daily, Weekly, and Monthly Visitors</title>
    <!-- Load Google Charts -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart', 'bar']});
        google.charts.setOnLoadCallback(drawChart);
    
        function drawChart() {
            var data = new google.visualization.DataTable();
            data.addColumn('date', 'Date');
            data.addColumn('number', 'Visitors');
    
            data.addRows([
                {% for date, count in graph_data %}
                    [new Date('{{ date|date:"Y-m-d" }}'), {{ count }}],
                {% endfor %}
            ]);
    
            var options = {
                title: 'Visitors',
                hAxis: {
                    title: 'Date',
                    format: 'MMM dd, yyyy',
                    gridlines: {count: -1}
                },
                vAxis: {
                    title: 'Number of Visitors'
                },
                legend: { position: 'none' },
                bars: 'vertical' // Required for Material Bar Charts.
            };
    
            var chart = new google.visualization.ColumnChart(document.getElementById('curve_chart'));
            chart.draw(data, options);
        }
    </script>
</head>
<body>
    <h1>Visitor Statistics</h1>
    <form action="" method="get">
        <label for="interval">Select Interval:</label>
        <select name="interval" id="interval">
            <option value="daily" {% if selected_interval == 'daily' %}selected{% endif %}>Daily</option>
            <option value="weekly" {% if selected_interval == 'weekly' %}selected{% endif %}>Weekly</option>
            <option value="monthly" {% if selected_interval == 'monthly' %}selected{% endif %}>Monthly</option>
        </select>
        <input type="submit" value="Show">
    </form>
    
    <div id="curve_chart" style="width: 900px; height: 500px"></div>
</body>
</html>